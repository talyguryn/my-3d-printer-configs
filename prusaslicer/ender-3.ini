# ============================================================
# CONFIG BUNDLE — Ender 3 + Klipper + PETG
# PrusaSlicer 2.9.4
# ============================================================

# ============================================================
# PRINTER PROFILE
# ============================================================
[printer:Ender3_Klipper_Moonraker]

printer_model = Ender 3
printer_technology = FFF
printer_variant = 0.4
nozzle_diameter = 0.4

printer_notes = Ender 3
; SKR Mini E3 V3.0
; Klipper firmware
; BMG Direct Drive

bed_shape = 0x20,225x20,225x235,0x235
max_print_height = 210

machine_limits_usage = ignore

gcode_flavor = klipper
use_relative_e_distances = 0
use_volumetric_e = 0

start_gcode = START_PRINT BED={first_layer_bed_temperature[0]} EXTRUDER={first_layer_temperature[0]}
end_gcode = END_PRINT

start_filament_gcode =
SET_PRESSURE_TUNING K={if nozzle_diameter[0]==0.4}0.07{elsif nozzle_diameter[0]==0.6}0.04{else}0{endif}
SET_HEATBREAK_COOLING TEMP=36

host_type = octoprint
print_host = http://192.168.31.76
printhost_apikey =

thumbnails = 32x32/PNG, 300x300/PNG
thumbnails_format = PNG

# ============================================================
# FILAMENT — PETG BLACK
# ============================================================
[filament:PETG_Black]

filament_type = PETG
filament_vendor = Generic
filament_settings_id = PETG Black

filament_diameter = 1.75
filament_density = 1.33
filament_colour = #000000

temperature = 235
first_layer_temperature = 235

bed_temperature = 75
first_layer_bed_temperature = 77

fan_always_on = 0
disable_fan_first_layers = 3
max_fan_speed = 40

filament_max_volumetric_speed = 12


# ============================================================
# FILAMENT — PETG WHITE
# ============================================================
[filament:PETG_White]

filament_type = PETG
filament_vendor = Generic
filament_settings_id = PETG White

filament_colour = #FFFFFF

temperature = 230
first_layer_temperature = 235

bed_temperature = 75
first_layer_bed_temperature = 77

max_fan_speed = 40
filament_max_volumetric_speed = 10


# ============================================================
# FILAMENT — PETG ORANGE
# ============================================================
[filament:PETG_Orange]

filament_type = PETG
filament_vendor = Generic
filament_settings_id = PETG Orange

filament_colour = #FF8400

temperature = 235
first_layer_temperature = 240

bed_temperature = 75
first_layer_bed_temperature = 77

max_fan_speed = 40
filament_max_volumetric_speed = 12


# ============================================================
# PRINT PROFILE — PETG QUALITY
# ============================================================
[print:PETG_QUALITY]

layer_height = 0.2
first_layer_height = 0.28

perimeters = 3
external_perimeters_first = 0

perimeter_speed = 120
external_perimeter_speed = 80
infill_speed = 180
travel_speed = 300
first_layer_speed = 40

default_acceleration = 2000
external_perimeter_acceleration = 800
first_layer_acceleration = 800

retract_length = 1
retract_speed = 60
deretract_speed = 60
retract_lift = 0.2

cooling = 1
max_fan_speed = 40
bridge_fan_speed = 100

seam_position = aligned


# ============================================================
# PRINT PROFILE — UNIFIED
# ============================================================
[print:PETG]

layer_height = 0.2
first_layer_height = 0.28

perimeters = 2
external_perimeters_first = 0

perimeter_speed = 200
external_perimeter_speed = 140
infill_speed = 360
travel_speed = 500
first_layer_speed = 70

default_acceleration = 3000
external_perimeter_acceleration = 1200
travel_acceleration = 3000

retract_length = 1
retract_speed = 60
deretract_speed = 60
retract_lift = 0.2

cooling = 1
max_fan_speed = 40
bridge_fan_speed = 100

seam_position = aligned


fill_density = 5%
fill_pattern = adaptivecubic

skirts = 0