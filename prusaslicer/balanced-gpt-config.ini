# Ender-3 (SKR Mini E3 V3) – Balanced PETG Profile (Clean)
# Generated by ChatGPT – 2025

[printer:Ender3_Klipper_BalancedPETG]
bed_shape = 0x0,235x0,235x235,0x235
max_print_height = 250
gcode_flavor = klipper
use_relative_e_distances = 0
use_volumetric_e = 0

# --- Machine limits (from printer.cfg) ---
machine_max_acceleration_x = 5000
machine_max_acceleration_y = 5000
machine_max_acceleration_z = 200
machine_max_acceleration_e = 2500
machine_max_feedrate_x = 200
machine_max_feedrate_y = 200
machine_max_feedrate_z = 12
machine_max_feedrate_e = 100
machine_max_jerk_x = 8
machine_max_jerk_y = 8
machine_max_jerk_z = 2
machine_max_jerk_e = 10

# --- Start / End G-code ---
start_gcode = START_PRINT BED={first_layer_bed_temperature[0]} EXTRUDER={first_layer_temperature[0]}
end_gcode = END_PRINT

# --- Temperatures (PETG) ---
temperature = 240
first_layer_temperature = 240
bed_temperature = 80
first_layer_bed_temperature = 80

# --- Speeds (Balanced PETG) ---
perimeter_speed = 55
small_perimeter_speed = 35
external_perimeter_speed = 40
infill_speed = 65
solid_infill_speed = 55
top_solid_infill_speed = 40
support_material_speed = 55
travel_speed = 180
bridge_speed = 20

# --- Accelerations (Balanced PETG) ---
default_acceleration = 2500
perimeter_acceleration = 2500
infill_acceleration = 4000
solid_infill_acceleration = 2500
top_solid_infill_acceleration = 2500
support_material_acceleration = 3000
first_layer_acceleration = 1500
bridge_acceleration = 1000
travel_acceleration = 5000

# --- Extruder / Retraction (BMG Direct Drive) ---
retract_length = 1.0
retract_speed = 30
deretract_speed = 30
retract_before_travel = 2
retract_layer_change = 0
retract_restart_extra = 0
retract_lift = 0.2

# --- Extrusion ---
filament_diameter = 1.75
extrusion_multiplier = 1.00
extrusion_width = 0.5
first_layer_extrusion_width = 0.8
perimeter_extrusion_width = 0.45
external_perimeter_extrusion_width = 0.4
infill_extrusion_width = 0.5
solid_infill_extrusion_width = 0.5
top_infill_extrusion_width = 0.5

# --- Cooling (PETG + Sunon fans) ---
fan_always_on = 0
disable_fan_first_layers = 3
min_fan_speed = 0
max_fan_speed = 40
full_fan_speed_layer = 4
fan_below_layer_time = 20
slowdown_below_layer_time = 9

# Overhang cooling curve
overhang_fan_speed_0 = 0
overhang_fan_speed_1 = 10
overhang_fan_speed_2 = 20
overhang_fan_speed_3 = 30

# --- Layers / Quality ---
layer_height = 0.2
first_layer_height = 0.28
min_layer_height = 0.05
max_layer_height = 0.28

perimeters = 2
top_solid_layers = 5
bottom_solid_layers = 3

fill_density = 25%
fill_pattern = rectilinear
top_fill_pattern = monotonic
bottom_fill_pattern = monotonic

# --- Support ---
support_material = 1
support_material_interface_layers = 3
support_material_contact_distance = 0.15
support_material_pattern = rectilinear
support_material_spacing = 2.5

# --- Skirt/Brim ---
skirts = 3
skirt_distance = 6
min_skirt_length = 50
brim_width = 0
draft_shield = disabled

# --- Misc ---
wipe = 0
retract_before_wipe = 80%
ooze_prevention = 0
remaining_times = 1
pause_print_gcode =
color_change_gcode =
